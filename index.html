<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAME GALLERY_</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.2/babel.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-analytics-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>
<script>
  firebase.initializeApp({
    apiKey: "AIzaSyAyWR_hWtEMOYHeJx02C1TenTegIM11K9I",
    authDomain: "game-gallery-4ff4d.firebaseapp.com",
    projectId: "game-gallery-4ff4d",
    storageBucket: "game-gallery-4ff4d.firebasestorage.app",
    messagingSenderId: "1003196958250",
    appId: "1:1003196958250:web:ffdd7c95c95870e45ba553",
    measurementId: "G-BMB9085TJS"
  });
  const analytics = firebase.analytics();
  const db = firebase.firestore();

  const GA = {
    pageView() { analytics.logEvent('page_view'); },
    gameClick(id, name) { analytics.logEvent('game_click', { game_id: id, game_name: name }); },
    gameExecute(id, name) { analytics.logEvent('game_execute', { game_id: id, game_name: name }); },
    tabSwitch(tab) { analytics.logEvent('tab_switch', { tab_name: tab }); },
    search(query) { analytics.logEvent('search', { search_term: query }); },
    langSwitch(lang) { analytics.logEvent('lang_switch', { language: lang }); },
  };
  GA.pageView();

  const ClickTracker = {
    async increment(gameId) {
      const ref = db.collection('game_clicks').doc(gameId);
      try {
        await ref.set({ clicks: firebase.firestore.FieldValue.increment(1) }, { merge: true });
      } catch(e) { console.warn('Firestore write error:', e); }
    },
    async getTopGame() {
      try {
        const snap = await db.collection('game_clicks').orderBy('clicks', 'desc').limit(1).get();
        if (!snap.empty) return snap.docs[0].id;
      } catch(e) { console.warn('Firestore read error:', e); }
      return null;
    }
  };
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --green: #00ff41;
  --green-dim: #005500;
  --green-20: rgba(0,255,65,0.2);
  --green-30: rgba(0,255,65,0.3);
  --green-80: rgba(0,255,65,0.8);
  --bg: #001200;
}

body {
  background: var(--bg);
  color: var(--green);
  font-family: 'JetBrains Mono', 'Noto Sans JP', monospace;
  overflow-x: hidden;
  min-height: 100vh;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Matrix Rain Background */
#matrix-rain {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  z-index: 0; pointer-events: none; overflow: hidden;
}
.matrix-col {
  position: absolute; top: -100%; writing-mode: vertical-rl;
  font-size: 14px; color: var(--green); opacity: 0.35;
  animation: rain-fall linear infinite;
  font-family: 'JetBrains Mono', monospace;
  text-shadow: 0 0 12px var(--green), 0 0 24px rgba(0,255,65,0.4);
  white-space: nowrap;
}
.matrix-col.bright {
  opacity: 0.7; color: #80ffaa;
  text-shadow: 0 0 16px var(--green), 0 0 40px rgba(0,255,65,0.6), 0 0 60px rgba(0,255,65,0.3);
  font-weight: 700;
}
.matrix-col.mid { opacity: 0.5; }
@keyframes rain-fall {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(calc(100vh + 100%)); }
}
@keyframes rain-fall-pulse {
  0% { transform: translateY(-100%); opacity: 0.3; }
  50% { opacity: 0.8; }
  100% { transform: translateY(calc(100vh + 100%)); opacity: 0.3; }
}

/* Background gradient overlay */
.bg-gradient {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background:
    radial-gradient(ellipse at 50% 0%, rgba(0,80,10,0.6) 0%, rgba(0,30,5,0.7) 40%, rgba(0,12,2,0.85) 70%, #000a00 100%),
    radial-gradient(ellipse at 20% 80%, rgba(0,60,10,0.3) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 60%, rgba(0,50,8,0.25) 0%, transparent 50%);
  z-index: 1; pointer-events: none;
}

/* Green ambient glow */
.green-glow-top {
  position: fixed; top: -20%; left: 30%; width: 40%; height: 50%;
  background: radial-gradient(ellipse, rgba(0,255,65,0.08) 0%, transparent 70%);
  z-index: 1; pointer-events: none; animation: glow-pulse 6s ease-in-out infinite;
}
.green-glow-bottom {
  position: fixed; bottom: -10%; left: 10%; width: 60%; height: 40%;
  background: radial-gradient(ellipse, rgba(0,255,65,0.05) 0%, transparent 70%);
  z-index: 1; pointer-events: none; animation: glow-pulse 8s ease-in-out infinite reverse;
}
@keyframes glow-pulse {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

/* Scanlines */
.scanlines {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: repeating-linear-gradient(
    to bottom, transparent, transparent 2px,
    rgba(0,255,65,0.04) 2px, rgba(0,255,65,0.04) 3px
  );
  opacity: 0.5; pointer-events: none; z-index: 100;
}

/* Noise overlay */
.noise::before {
  content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
  opacity: 0.05; pointer-events: none; z-index: 99;
}

.main-container {
  position: relative; z-index: 10;
  max-width: 1280px; margin: 0 auto; padding: 48px 16px;
}
@media (min-width: 768px) { .main-container { padding: 48px 32px; } }

/* Glow effects */
.glow-text { text-shadow: 0 0 10px var(--green-80), 0 0 20px var(--green-30); }
.glow-border { box-shadow: 0 0 10px var(--green-20), inset 0 0 5px rgba(0,255,65,0.1); }

/* Status bar */
.status-bar {
  display: flex; justify-content: space-between; flex-wrap: wrap;
  font-size: 10px; text-transform: uppercase; letter-spacing: 3px;
  opacity: 0.6; margin-bottom: 16px;
}
.blink { animation: blink 2s step-end infinite; }
@keyframes blink { 50% { opacity: 0.3; } }

/* Title */
.title {
  font-size: 2rem; font-weight: 700; margin-bottom: 32px;
}
@media (min-width: 768px) { .title { font-size: 2.5rem; } }

/* Search bar */
.search-wrap {
  position: relative; margin-bottom: 24px;
}
.search-icon {
  position: absolute; left: 12px; top: 50%; transform: translateY(-50%);
  color: var(--green); opacity: 0.6;
}
.search-input {
  width: 100%; padding: 12px 12px 12px 40px;
  background: rgba(0,0,0,0.8); border: 1px solid var(--green-dim);
  color: var(--green); font-family: inherit; font-size: 14px;
  border-radius: 4px; outline: none;
  transition: border-color 0.3s, box-shadow 0.3s;
}
.search-input:focus {
  border-color: var(--green); box-shadow: 0 0 10px var(--green-20);
}
.search-input::placeholder { color: rgba(0,255,65,0.3); }

/* Tabs */
.tabs {
  display: flex; gap: 12px; margin-bottom: 32px; flex-wrap: wrap;
}
.tab-btn {
  padding: 8px 20px; border: 1px solid var(--green-30);
  background: transparent; color: var(--green); font-family: inherit;
  font-size: 13px; cursor: pointer; border-radius: 2px;
  transition: all 0.2s; text-transform: uppercase; letter-spacing: 1px;
}
.tab-btn:hover { background: rgba(0,255,65,0.1); }
.tab-btn.active {
  background: var(--green); color: #000; font-weight: 700;
}

/* Grid */
.game-grid {
  display: grid; gap: 32px;
  grid-template-columns: 1fr;
}
@media (min-width: 640px) { .game-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 769px) { .game-grid { grid-template-columns: repeat(3, 1fr); gap: 24px; } }
@media (min-width: 1024px) { .game-grid { grid-template-columns: repeat(4, 1fr); } }

/* Game Card */
.game-card {
  background: rgba(0,0,0,0.7); border: 1px solid var(--green-20);
  border-radius: 4px; overflow: hidden;
  transition: transform 0.4s cubic-bezier(0.165,0.84,0.44,1), box-shadow 0.4s, border-color 0.4s;
  cursor: pointer;
}
.game-card:hover {
  transform: translateY(-10px) scale(1.02);
  border-color: rgba(0,255,65,0.8);
  box-shadow:
    0 0 15px rgba(0,255,65,0.5),
    0 0 40px rgba(0,255,65,0.35),
    0 0 80px rgba(0,255,65,0.2),
    inset 0 0 20px rgba(0,255,65,0.08);
}
.card-inner {
  border: 1px solid var(--green-30); margin: 4px; border-radius: 2px;
  transition: border-color 0.4s, box-shadow 0.4s;
}
.game-card:hover .card-inner {
  border-color: rgba(0,255,65,0.6);
  box-shadow: inset 0 0 12px rgba(0,255,65,0.06);
}
.card-thumb {
  position: relative; padding-top: 100%; overflow: hidden;
}
.card-thumb img {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  object-fit: cover;
  filter: grayscale(0.2) contrast(1.1) brightness(0.9);
  transition: transform 0.5s, filter 0.5s;
}
.game-card:hover .card-thumb img {
  transform: scale(1.1);
  filter: grayscale(0) contrast(1.2) brightness(1.25) saturate(1.2);
}
.card-thumb .overlay {
  position: absolute; bottom: 0; left: 0; right: 0; height: 60%;
  background: linear-gradient(transparent, rgba(0,0,0,0.9));
  z-index: 2; transition: background 0.4s;
}
.game-card:hover .card-thumb .overlay {
  background: linear-gradient(transparent 20%, rgba(0,12,2,0.85));
}
.card-thumb::after {
  content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  border: 2px solid transparent; z-index: 3; transition: border-color 0.4s, box-shadow 0.4s;
  pointer-events: none;
}
.game-card:hover .card-thumb::after {
  border-color: rgba(0,255,65,0.4);
  box-shadow: inset 0 0 30px rgba(0,255,65,0.12);
}
.new-badge {
  display: inline-block;
  background: rgba(0,255,65,0.1); border: 1px solid var(--green);
  padding: 2px 8px; font-size: 9px; letter-spacing: 2px;
  text-shadow: 0 0 8px var(--green);
}
.popular-badge {
  display: inline-block;
  background: rgba(0,0,0,0.85); border: 1px solid var(--green);
  color: var(--green); padding: 2px 8px; font-size: 9px; letter-spacing: 2px;
  font-family: 'JetBrains Mono', monospace; font-weight: 700;
  text-shadow: 0 0 8px var(--green);
  animation: popular-glow 3s ease-in-out infinite;
}
.card-badges {
  display: flex; gap: 6px; flex-wrap: wrap; padding: 8px 12px 0;
}
@keyframes popular-glow {
  0%, 100% { box-shadow: 0 0 6px rgba(0,255,65,0.2), inset 0 0 4px rgba(0,255,65,0.05); border-color: var(--green); }
  50% { box-shadow: 0 0 18px rgba(0,255,65,0.5), inset 0 0 8px rgba(0,255,65,0.1); border-color: #80ffaa; }
}

/* Icon placeholder */
.icon-placeholder {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  background: repeating-linear-gradient(
    0deg, transparent, transparent 19px,
    rgba(0,255,65,0.05) 19px, rgba(0,255,65,0.05) 20px
  ),
  repeating-linear-gradient(
    90deg, transparent, transparent 19px,
    rgba(0,255,65,0.05) 19px, rgba(0,255,65,0.05) 20px
  );
}
.icon-placeholder svg { filter: drop-shadow(0 0 6px var(--green)); }

.card-body { padding: 12px; }
.card-name {
  font-size: 15px; font-weight: 700; color: #fff; margin-bottom: 2px;
  transition: text-shadow 0.4s;
}
.game-card:hover .card-name {
  text-shadow: 0 0 10px rgba(0,255,65,0.6);
}
.card-id { font-size: 10px; opacity: 0.5; margin-bottom: 8px; }
.card-catch {
  font-style: italic; font-size: 12px; opacity: 0.7;
  border-left: 2px solid var(--green); padding-left: 8px;
  margin-bottom: 10px; line-height: 1.5;
}
.card-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 10px; }
.tag {
  font-size: 10px; border: 1px solid var(--green-30);
  padding: 1px 6px; border-radius: 10px; opacity: 0.7;
  transition: border-color 0.4s, opacity 0.4s;
}
.game-card:hover .tag {
  border-color: rgba(0,255,65,0.5); opacity: 1;
}
.card-meta {
  display: grid; grid-template-columns: 1fr 1fr; gap: 4px;
  font-size: 10px; opacity: 0.6; margin-bottom: 12px;
}
.card-meta span { font-family: 'JetBrains Mono', monospace; }

/* Run button */
.run-btn {
  width: 100%; padding: 10px; border: 1px solid var(--green);
  background: transparent; color: var(--green); font-family: inherit;
  font-size: 12px; cursor: pointer; letter-spacing: 2px;
  position: relative; overflow: hidden; transition: color 0.3s, box-shadow 0.3s;
}
.run-btn::before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0;
  height: 0; background: var(--green); transition: height 0.3s;
  z-index: 0;
}
.run-btn:hover::before { height: 100%; }
.run-btn:hover { color: #000; box-shadow: 0 0 20px rgba(0,255,65,0.4); }
.run-btn span { position: relative; z-index: 1; }

/* Boot Modal */
.modal-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.9); backdrop-filter: blur(8px);
  z-index: 1000; display: flex; align-items: center; justify-content: center;
}
.modal-panel {
  background: #000; border: 1px solid var(--green-30);
  max-width: 480px; width: 90%; padding: 32px;
  box-shadow: 0 0 30px var(--green-20), inset 0 0 10px rgba(0,255,65,0.05);
}
.progress-bar {
  width: 100%; height: 4px; background: rgba(0,255,65,0.1);
  margin: 16px 0; border-radius: 2px; overflow: hidden;
}
.progress-fill {
  height: 100%; background: var(--green); transition: width 0.1s linear;
  box-shadow: 0 0 10px var(--green);
}
.boot-msg { font-size: 11px; opacity: 0.7; min-height: 60px; }
.execute-btn {
  width: 100%; padding: 14px; margin-top: 16px;
  border: 2px solid var(--green); background: transparent;
  color: var(--green); font-family: inherit; font-size: 14px;
  cursor: pointer; letter-spacing: 3px;
  transition: all 0.3s;
}
.execute-btn:hover { background: var(--green); color: #000; }
.execute-btn:disabled { opacity: 0.3; cursor: not-allowed; }

/* No results */
.no-results { text-align: center; padding: 80px 0; }
.no-results h2 { font-size: 2rem; opacity: 0.2; margin-bottom: 16px; color: #fff; }
.no-results p { margin-bottom: 24px; }
.reset-btn {
  padding: 10px 24px; border: 1px solid var(--green);
  background: transparent; color: var(--green); font-family: inherit;
  cursor: pointer; font-size: 13px;
}
.reset-btn:hover { background: rgba(0,255,65,0.1); }

/* Footer */
.footer {
  border-top: 1px solid var(--green-dim); margin-top: 64px;
  padding-top: 24px; opacity: 0.6; font-size: 11px;
}
.footer-nav { display: flex; gap: 24px; margin-bottom: 12px; flex-wrap: wrap; }
.footer-nav a { color: var(--green); text-decoration: none; letter-spacing: 2px; }
.footer-nav a:hover { text-decoration: underline; }

/* Language Toggle */
.lang-toggle {
  position: fixed; top: 16px; right: 16px; z-index: 200;
  display: flex; border: 1px solid var(--green-30);
  background: rgba(0,0,0,0.85); backdrop-filter: blur(4px);
  border-radius: 2px; overflow: hidden;
}
.lang-btn {
  padding: 6px 12px; border: none; background: transparent;
  color: var(--green); font-family: 'JetBrains Mono', monospace;
  font-size: 11px; cursor: pointer; letter-spacing: 2px;
  transition: all 0.3s; position: relative;
}
.lang-btn:first-child { border-right: 1px solid var(--green-30); }
.lang-btn:hover { background: rgba(0,255,65,0.08); }
.lang-btn.active {
  background: var(--green); color: #000; font-weight: 700;
  text-shadow: none;
  box-shadow: 0 0 12px rgba(0,255,65,0.3);
}
.lang-btn::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  opacity: 0; transition: opacity 0.3s;
}
.lang-btn.active::before {
  background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 100%);
  opacity: 1;
}

/* ===== HUD SECTIONS ===== */
.section-divider {
  margin: 64px 0 32px; text-align: center; position: relative;
}
.section-divider::before, .section-divider::after {
  content: ''; position: absolute; top: 50%; height: 1px; width: calc(50% - 120px);
  background: linear-gradient(90deg, transparent, var(--green-30));
}
.section-divider::before { left: 0; }
.section-divider::after { right: 0; background: linear-gradient(270deg, transparent, var(--green-30)); }
.section-title {
  display: inline-block; font-size: 14px; letter-spacing: 4px;
  border: 1px solid var(--green-30); padding: 8px 24px;
  background: rgba(0,0,0,0.8); position: relative;
  text-shadow: 0 0 10px var(--green-80);
}
.section-title::before { content: '// '; opacity: 0.5; }

/* HUD Panel */
.hud-panel {
  background: rgba(0,10,4,0.85); border: 1px solid var(--green-30);
  padding: 24px; position: relative; margin-bottom: 24px;
  box-shadow: inset 0 0 20px rgba(0,255,65,0.03);
}
.hud-panel::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--green), transparent);
  opacity: 0.6;
}
.hud-panel-title {
  font-size: 13px; letter-spacing: 3px; margin-bottom: 16px;
  padding-bottom: 8px; border-bottom: 1px solid var(--green-20);
  text-shadow: 0 0 8px var(--green-80);
}
.hud-panel-sub { font-size: 11px; opacity: 0.6; margin-bottom: 16px; line-height: 1.6; }

/* Event Tool Card */
.event-tool {
  display: flex; gap: 24px; align-items: center;
}
@media (max-width: 640px) { .event-tool { flex-direction: column; } }
.event-tool-icon {
  flex-shrink: 0; width: 120px; height: 120px;
  border: 1px solid var(--green-30); display: flex;
  align-items: center; justify-content: center;
  background: rgba(0,0,0,0.6);
}
.event-tool-body { flex: 1; }
.event-tool-name { font-size: 16px; font-weight: 700; color: #fff; margin-bottom: 4px; }
.event-tool-use { font-size: 10px; opacity: 0.5; letter-spacing: 2px; margin-bottom: 8px; }
.event-tool-desc { font-size: 12px; opacity: 0.7; margin-bottom: 12px; line-height: 1.6; }
.launch-btn {
  display: inline-block; padding: 10px 24px; border: 1px solid var(--green);
  background: transparent; color: var(--green); font-family: inherit;
  font-size: 12px; cursor: pointer; letter-spacing: 2px;
  transition: all 0.3s; text-decoration: none;
}
.launch-btn:hover { background: var(--green); color: #000; box-shadow: 0 0 20px rgba(0,255,65,0.4); }

/* Forms */
.hud-input {
  width: 100%; padding: 10px 12px; margin-bottom: 12px;
  background: rgba(0,0,0,0.8); border: 1px solid var(--green-20);
  color: var(--green); font-family: inherit; font-size: 13px;
  outline: none; transition: border-color 0.3s, box-shadow 0.3s;
}
.hud-input:focus { border-color: var(--green); box-shadow: 0 0 8px var(--green-20); }
.hud-input::placeholder { color: rgba(0,255,65,0.25); }
.hud-textarea {
  width: 100%; padding: 10px 12px; margin-bottom: 12px; min-height: 100px;
  background: rgba(0,0,0,0.8); border: 1px solid var(--green-20);
  color: var(--green); font-family: inherit; font-size: 13px;
  outline: none; resize: vertical; transition: border-color 0.3s;
}
.hud-textarea:focus { border-color: var(--green); box-shadow: 0 0 8px var(--green-20); }
.hud-textarea::placeholder { color: rgba(0,255,65,0.25); }
.hud-select {
  width: 100%; padding: 10px 12px; margin-bottom: 12px;
  background: rgba(0,0,0,0.8); border: 1px solid var(--green-20);
  color: var(--green); font-family: inherit; font-size: 13px;
  outline: none; cursor: pointer; appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%2300ff41'/%3E%3C/svg%3E");
  background-repeat: no-repeat; background-position: right 12px center;
}
.hud-select option { background: #000; color: var(--green); }
.hud-submit {
  padding: 10px 32px; border: 1px solid var(--green);
  background: transparent; color: var(--green); font-family: inherit;
  font-size: 12px; cursor: pointer; letter-spacing: 2px;
  transition: all 0.3s; position: relative; overflow: hidden;
}
.hud-submit:hover { background: var(--green); color: #000; box-shadow: 0 0 20px rgba(0,255,65,0.4); }
.hud-submit:disabled { opacity: 0.3; cursor: not-allowed; }

/* Toast notification */
.hud-toast {
  position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
  background: rgba(0,0,0,0.95); border: 1px solid var(--green);
  color: var(--green); padding: 12px 24px; font-size: 12px;
  letter-spacing: 2px; z-index: 500;
  box-shadow: 0 0 20px rgba(0,255,65,0.3);
  animation: toast-in 0.3s ease-out;
}
@keyframes toast-in { from { opacity: 0; transform: translateX(-50%) translateY(20px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }

/* Dropdown Panel */
.dropdown-panel { }
.dropdown-toggle {
  display: flex; align-items: center; justify-content: space-between;
  width: 100%; background: none; border: none; cursor: pointer;
  padding: 0; color: var(--green); font-family: inherit;
  -webkit-tap-highlight-color: transparent;
}
.dropdown-arrow {
  font-size: 10px; opacity: 0.6; transition: transform 0.3s;
  display: inline-block;
}
.dropdown-arrow.open { transform: rotate(180deg); }
.dropdown-body {
  margin-top: 16px; padding-top: 16px;
  border-top: 1px solid var(--green-20);
  animation: dropdown-slide 0.3s ease-out;
}
@keyframes dropdown-slide {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Two column layout */
.hud-grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
@media (max-width: 768px) { .hud-grid-2 { grid-template-columns: 1fr; } }

/* Discord button */
.discord-btn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 12px 24px; border: 1px solid #5865F2;
  background: rgba(88,101,242,0.1); color: #5865F2;
  font-family: inherit; font-size: 12px; cursor: pointer;
  letter-spacing: 2px; text-decoration: none; transition: all 0.3s;
}
.discord-btn:hover { background: #5865F2; color: #fff; box-shadow: 0 0 20px rgba(88,101,242,0.4); }

/* ===== RESPONSIVE: Mobile ===== */
@media (max-width: 480px) {
  .main-container { padding: 40px 12px 24px; }
  .title { font-size: 1.5rem; margin-bottom: 20px; }
  .status-bar { font-size: 8px; letter-spacing: 1px; gap: 4px; margin-bottom: 10px; }
  .status-bar span:nth-child(3) { display: none; }
  .search-input { font-size: 13px; padding: 10px 10px 10px 36px; }
  .tabs { gap: 8px; margin-bottom: 20px; }
  .tab-btn { padding: 8px 14px; font-size: 12px; letter-spacing: 0.5px; flex: 1; text-align: center; }
  .game-grid { gap: 20px; }
  .game-card:hover { transform: none; }
  .card-body { padding: 10px; }
  .card-name { font-size: 14px; }
  .card-catch { font-size: 11px; }
  .run-btn { padding: 12px; font-size: 12px; -webkit-tap-highlight-color: transparent; }
  .lang-toggle { top: 10px; right: 10px; }
  .lang-btn { padding: 5px 10px; font-size: 10px; }
  .section-divider { margin: 40px 0 20px; }
  .section-divider::before, .section-divider::after { width: calc(50% - 80px); }
  .section-title { font-size: 11px; padding: 6px 14px; letter-spacing: 2px; }
  .hud-panel { padding: 16px; }
  .hud-panel-title { font-size: 12px; letter-spacing: 2px; }
  .hud-panel-sub { font-size: 10px; }
  .event-tool-icon { width: 80px; height: 80px; }
  .event-tool-name { font-size: 14px; }
  .event-tool-desc { font-size: 11px; }
  .launch-btn { padding: 10px 20px; font-size: 11px; width: 100%; text-align: center; }
  .hud-input, .hud-textarea, .hud-select { font-size: 14px; padding: 12px; }
  .hud-submit { padding: 12px 24px; font-size: 12px; width: 100%; }
  .discord-btn { width: 100%; justify-content: center; padding: 14px 20px; }
  .modal-panel { padding: 20px; width: 94%; }
  .boot-msg { font-size: 10px; }
  .execute-btn { padding: 12px; font-size: 12px; }
  .no-results h2 { font-size: 1.2rem; }
  .no-results { padding: 40px 0; }
  .footer { margin-top: 40px; font-size: 10px; }
  .footer-nav { gap: 16px; }
  .hud-toast { font-size: 11px; padding: 10px 16px; width: 90%; text-align: center; }
}

/* ===== RESPONSIVE: Tablet ===== */
@media (min-width: 481px) and (max-width: 768px) {
  .main-container { padding: 48px 20px; }
  .title { font-size: 1.8rem; }
  .tab-btn { padding: 8px 16px; }
  .game-card:hover { transform: translateY(-4px); }
  .section-title { font-size: 12px; }
  .hud-panel { padding: 20px; }
  .event-tool-icon { width: 100px; height: 100px; }
  .launch-btn { width: 100%; text-align: center; }
  .hud-submit { width: 100%; }
  .discord-btn { width: 100%; justify-content: center; }
}

/* ===== RESPONSIVE: Tablet landscape ===== */

/* Touch device: disable hover scale */
@media (hover: none) {
  .game-card:hover { transform: none; }
  .game-card:active { border-color: rgba(0,255,65,0.6); box-shadow: 0 0 15px rgba(0,255,65,0.3); }
  .run-btn:hover::before { height: 0; }
  .run-btn:active::before { height: 100%; }
  .run-btn:active { color: #000; }
  .launch-btn:hover { background: transparent; color: var(--green); box-shadow: none; }
  .launch-btn:active { background: var(--green); color: #000; box-shadow: 0 0 20px rgba(0,255,65,0.4); }
  .hud-submit:hover { background: transparent; color: var(--green); box-shadow: none; }
  .hud-submit:active { background: var(--green); color: #000; }
  .discord-btn:hover { background: rgba(88,101,242,0.1); color: #5865F2; box-shadow: none; }
  .discord-btn:active { background: #5865F2; color: #fff; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: #000; }
::-webkit-scrollbar-thumb { background: var(--green); box-shadow: 0 0 4px var(--green); }
</style>
</head>
<body class="noise">
<div id="matrix-rain"></div>
<div class="bg-gradient"></div>
<div class="green-glow-top"></div>
<div class="green-glow-bottom"></div>
<div class="scanlines"></div>
<div id="root"></div>

<script>
// Matrix Rain Effect
(function() {
  const container = document.getElementById('matrix-rain');
  const chars = 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン0123456789ABCDEF<>{}[];:';
  const colCount = Math.floor(window.innerWidth / 16);
  for (let i = 0; i < colCount; i++) {
    const col = document.createElement('div');
    col.className = 'matrix-col';
    const rnd = Math.random();
    if (rnd < 0.12) { col.classList.add('bright'); }
    else if (rnd < 0.4) { col.classList.add('mid'); }
    col.style.left = (i / colCount * 100) + '%';
    const dur = 4 + Math.random() * 12;
    col.style.animationDuration = dur + 's';
    col.style.animationDelay = (-Math.random() * 20) + 's';
    if (rnd < 0.12) { col.style.animationName = 'rain-fall-pulse'; }
    col.style.fontSize = (10 + Math.random() * 8) + 'px';
    let text = '';
    const len = 30 + Math.floor(Math.random() * 40);
    for (let j = 0; j < len; j++) text += chars[Math.floor(Math.random() * chars.length)];
    col.textContent = text;
    container.appendChild(col);
  }
})();

// Audio Service
const AudioService = {
  ctx: null,
  init() {
    if (!this.ctx) {
      this.ctx = new (window.AudioContext || window.webkitAudioContext)();
    }
    if (this.ctx.state === 'suspended') this.ctx.resume();
  },
  playHover() {
    this.init(); if (!this.ctx) return;
    const o = this.ctx.createOscillator(), g = this.ctx.createGain();
    o.type = 'sine'; o.frequency.setValueAtTime(1200, this.ctx.currentTime);
    o.frequency.linearRampToValueAtTime(1600, this.ctx.currentTime + 0.05);
    g.gain.setValueAtTime(0.02, this.ctx.currentTime);
    g.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 0.05);
    o.connect(g); g.connect(this.ctx.destination);
    o.start(); o.stop(this.ctx.currentTime + 0.05);
  },
  playClick() {
    this.init(); if (!this.ctx) return;
    const o = this.ctx.createOscillator(), g = this.ctx.createGain();
    o.type = 'square'; o.frequency.setValueAtTime(880, this.ctx.currentTime);
    o.frequency.linearRampToValueAtTime(110, this.ctx.currentTime + 0.1);
    g.gain.setValueAtTime(0.05, this.ctx.currentTime);
    g.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 0.1);
    o.connect(g); g.connect(this.ctx.destination);
    o.start(); o.stop(this.ctx.currentTime + 0.1);
  },
  playMagic() {
    this.init(); if (!this.ctx) return;
    [440, 880].forEach((f, i) => {
      const o = this.ctx.createOscillator(), g = this.ctx.createGain();
      o.type = 'sine';
      o.frequency.setValueAtTime(f, this.ctx.currentTime);
      o.frequency.linearRampToValueAtTime(f * 2, this.ctx.currentTime + 1.2);
      g.gain.setValueAtTime(0, this.ctx.currentTime);
      g.gain.linearRampToValueAtTime(0.06, this.ctx.currentTime + 0.3);
      g.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 1.2);
      o.connect(g); g.connect(this.ctx.destination);
      o.start(); o.stop(this.ctx.currentTime + 1.2);
    });
  },
  playBoot() {
    this.init(); if (!this.ctx) return;
    const o = this.ctx.createOscillator(), g = this.ctx.createGain();
    o.type = 'sine'; o.frequency.setValueAtTime(220, this.ctx.currentTime);
    o.frequency.linearRampToValueAtTime(880, this.ctx.currentTime + 0.5);
    g.gain.setValueAtTime(0.08, this.ctx.currentTime);
    g.gain.linearRampToValueAtTime(0, this.ctx.currentTime + 0.5);
    o.connect(g); g.connect(this.ctx.destination);
    o.start(); o.stop(this.ctx.currentTime + 0.5);
  }
};
</script>

<script type="text/babel">
const { useState, useEffect, useRef, useCallback } = React;

const I18N = {
  ja: {
    searchPlaceholder: 'ゲームを検索（例：トランプ、ボード）...',
    tabs: { '人気': '人気', 'おすすめ': 'おすすめ', '最新作': '最新作' },
    noResultTitle: 'ERROR 404: NO_DATA_FOUND',
    noResultMsg: '該当するゲームユニットが見つかりません。',
    resetBtn: 'システムリセット',
    runBtn: '▶ RUN APPLICATION',
    bootLoading: 'APPLICATION LOADING...',
    bootMsg1: '> Initializing graphics kernel...',
    bootMsg2: '> Linking network assets...',
    bootMsg3: '> Loading player data...',
    bootReady: '> LAUNCHING...',
    bootBtnReady: 'LAUNCHING...',
    bootBtnLoading: 'LOADING...',
    players: 'Players',
    duration: 'Duration',
    // Event Tools
    eventTitle: 'イベントツール',
    tournamentName: 'トーナメント管理',
    tournamentUse: '用途：イベント・大会運営',
    tournamentDesc: 'リアルタイム対戦トーナメント管理アプリ。ルーレット抽選、ブラケット表示、グループステージ対応。複数デバイスから同時参加可能。',
    launchBtn: '▶ ツールを起動',
    // Notify
    notifyTitle: '通知設定',
    notifySub: '新作ゲーム・イベントの通知を受け取る。メールアドレスを登録すると、新作投稿時やイベント開催時にお知らせします。',
    notifyPlaceholder: 'your@email.com',
    notifyBtn: '登録する',
    notifySuccess: '登録完了。通知をお届けします。',
    notifyError: '登録に失敗しました。',
    notifyDuplicate: 'このメールアドレスは登録済みです。',
    // Contact
    contactTitle: 'お問い合わせ',
    contactSub: 'お問い合わせ・ご相談はこちらから。開発依頼、質問、バグ報告など何でもどうぞ。',
    contactName: '名前',
    contactEmail: 'メールアドレス',
    contactMsg: 'お問い合わせ内容',
    contactBtn: '送信',
    contactSuccess: '送信完了。ありがとうございます。',
    contactError: '送信に失敗しました。',
    // Request BOX
    requestTitle: 'リクエストBOX',
    requestSub: 'ゲームへのフィードバックやリクエストを送信できます。「こういう機能が欲しい」「ここを改善してほしい」など自由にどうぞ。',
    requestGame: 'ゲーム名を選択',
    requestCat: 'カテゴリを選択',
    requestCats: ['改善要望', '新機能リクエスト', 'バグ報告', '感想・その他'],
    requestComment: 'コメントを入力...',
    requestBtn: '送信',
    requestSuccess: 'フィードバックを受け付けました。',
    requestError: '送信に失敗しました。',
    // Community
    communityTitle: 'コミュニティ',
    discordText: 'AIに関する情報を幅広く共有するコミュニティです。AI画像生成・AI動画制作を中心に、メンバーが日々の成果やノウハウを発信しています。ゲーム開発やベータ版の先行公開も行っているので、興味のある方はぜひご参加ください。',
    discordBtn: 'Discordに参加',
  },
  en: {
    searchPlaceholder: 'Search games (e.g. cards, board)...',
    tabs: { '人気': 'POPULAR', 'おすすめ': 'RECOMMEND', '最新作': 'NEW' },
    noResultTitle: 'ERROR 404: NO_DATA_FOUND',
    noResultMsg: 'No matching game units found in database.',
    resetBtn: 'SYSTEM RESET',
    runBtn: '▶ RUN APPLICATION',
    bootLoading: 'APPLICATION LOADING...',
    bootMsg1: '> Initializing graphics kernel...',
    bootMsg2: '> Linking network assets...',
    bootMsg3: '> Loading player data...',
    bootReady: '> LAUNCHING...',
    bootBtnReady: 'LAUNCHING...',
    bootBtnLoading: 'LOADING...',
    players: 'Players',
    duration: 'Duration',
    // Event Tools
    eventTitle: 'EVENT TOOLS',
    tournamentName: 'TOURNAMENT MANAGER',
    tournamentUse: 'USE: Events & Tournaments',
    tournamentDesc: 'Real-time tournament management app. Roulette lottery, bracket display, group stage support. Multi-device simultaneous participation.',
    launchBtn: '▶ LAUNCH TOOL',
    // Notify
    notifyTitle: 'NOTIFICATION',
    notifySub: 'Get notified about new games and events. Register your email to receive updates on new releases and event announcements.',
    notifyPlaceholder: 'your@email.com',
    notifyBtn: 'SUBSCRIBE',
    notifySuccess: 'Subscribed. We will notify you.',
    notifyError: 'Subscription failed.',
    notifyDuplicate: 'This email is already registered.',
    // Contact
    contactTitle: 'CONTACT',
    contactSub: 'General inquiries, development requests, questions, bug reports — anything welcome.',
    contactName: 'Name',
    contactEmail: 'Email',
    contactMsg: 'Message',
    contactBtn: 'SEND',
    contactSuccess: 'Sent successfully. Thank you.',
    contactError: 'Failed to send.',
    // Request BOX
    requestTitle: 'REQUEST BOX',
    requestSub: 'Send feedback or requests for specific games. Feature requests, improvements, bug reports — all welcome.',
    requestGame: 'Select game',
    requestCat: 'Select category',
    requestCats: ['Improvement', 'Feature Request', 'Bug Report', 'Feedback / Other'],
    requestComment: 'Enter your comment...',
